"use strict";$(document).ready(function(){$('[data-search="branches"]').on("keyup",function(){search_in_table($(this).val(),$('[data-table="branches"]').find(" > div"))});$('[name="phone_number"]').on("keyup",function(){validate_string("int",$(this).val(),$(this))});$('[name="fiscal_id"]').on("keyup",function(){validate_string(["uppercase","int"],$(this).val().toUpperCase(),$(this))});var b="create_branch";var e="read_branch";var c="update_branch";var f="block_branch";var a="unblock_branch";var d="delete_branch";$(document).on("click",'[data-action="'+b+'"]',function(){action=b;id=null;transform_form_modal("create",$('[data-modal="'+b+'"]'));open_form_modal("create",$('[data-modal="'+b+'"]'))});$(document).on("click",'[data-action="'+c+'"]',function(){action=e;id=$(this).data("id");transform_form_modal("update",$('[data-modal="'+b+'"]'));open_form_modal("update",$('[data-modal="'+b+'"]'),function(g){action=c;$('[data-modal="'+b+'"]').find("form").find('[name="avatar"]').parents(".uploader").find("img").attr("src",((g.avatar!=null)?"../uploads/"+g.avatar:"../images/branch.png"));$('[data-modal="'+b+'"]').find("form").find('[name="name"]').val(g.name);$('[data-modal="'+b+'"]').find("form").find('[name="email"]').val(g.email);$('[data-modal="'+b+'"]').find("form").find('[name="phone_country"]').val(g.phone.country);$('[data-modal="'+b+'"]').find("form").find('[name="phone_number"]').val(g.phone.number);$('[data-modal="'+b+'"]').find("form").find('[name="country"]').val(g.country);$('[data-modal="'+b+'"]').find("form").find('[name="address"]').val(g.address);$('[data-modal="'+b+'"]').find("form").find('[name="fiscal_id"]').val(g.fiscal.id);$('[data-modal="'+b+'"]').find("form").find('[name="fiscal_name"]').val(g.fiscal.name);$('[data-modal="'+b+'"]').find("form").find('[name="fiscal_country"]').val(g.fiscal.country);$('[data-modal="'+b+'"]').find("form").find('[name="fiscal_address"]').val(g.fiscal.address)})});$('[data-modal="'+b+'"]').find("form").on("submit",function(g){send_form_modal("create",$(this),g)});$(document).on("click",'[data-action="'+f+'"]',function(){action=f;id=$(this).data("id");send_form_modal("block")});$(document).on("click",'[data-action="'+a+'"]',function(){action=a;id=$(this).data("id");send_form_modal("unblock")});$(document).on("click",'[data-action="'+d+'"]',function(){action=d;id=$(this).data("id");open_form_modal("delete",$('[data-modal="'+d+'"]'))});$('[data-modal="'+d+'"]').modal().onSuccess(function(){send_form_modal("delete")})});