"use strict";$(document).ready(function(){$('[data-search="products"]').on("keyup",function(){search_in_table($(this).val(),$('[data-table="products"]').find(" > tbody > tr"))});$('[data-action="generate_random_token"]').on("click",function(){generate_string(["uppercase","lowercase","int"],8,$('[name="token"]'))});$('[name="token"]').on("keyup",function(){validate_string(["uppercase","lowercase","int"],$(this).val(),$(this))});$('[name="price"]').on("keyup",function(){validate_string("float",$(this).val(),$(this))});$('[name="gain_margin_amount"]').on("keyup",function(){validate_string("float",$(this).val(),$(this))});$('[name="weight_full"]').on("keyup",function(){validate_string("float",$(this).val(),$(this))});$('[name="weight_empty"]').on("keyup",function(){validate_string("float",$(this).val(),$(this))});$('[data-search="categories"]').on("keyup",function(){search_in_table($(this).val(),$('[data-table="categories"]').find(" > label"))});$('[data-search="supplies"]').on("keyup",function(){search_in_table($(this).val(),$('[data-table="supplies"]').find(" > label"),"hidden")});$('[data-search="recipes"]').on("keyup",function(){search_in_table($(this).val(),$('[data-table="recipes"]').find(" > label"),"hidden")});var b="create_product";var e="read_product";var c="update_product";var f="block_product";var a="unblock_product";var d="delete_product";$(document).on("click",'[data-action="'+b+'"]',function(){action=b;id=null;transform_form_modal("create",$('[data-modal="'+b+'"]'));open_form_modal("create",$('[data-modal="'+b+'"]'))});$(document).on("click",'[data-action="'+c+'"]',function(){action=e;id=$(this).data("id");transform_form_modal("update",$('[data-modal="'+b+'"]'));open_form_modal("update",$('[data-modal="'+b+'"]'),function(g){action=c;if(g.type=="sale_menu"){$('[data-modal="'+b+'"]').find("form").find('[name="avatar"]').parents(".uploader").find("img").attr("src",((validate_string("empty",g.avatar)==false)?"../uploads/"+g.avatar:"../images/empty.png"))}$('[data-modal="'+b+'"]').find("form").find('[name="name"]').val(g.name);if(g.type=="sale_menu"||g.type=="supply"||g.type=="work_material"){$('[data-modal="'+b+'"]').find("form").find('[name="inventory"]').prop("checked",((g.inventory==true)?true:false))}if(g.type=="sale_menu"||g.type=="supply"||g.type=="work_material"){$('[data-modal="'+b+'"]').find("form").find('[name="token"]').val(g.token)}if(g.type=="sale_menu"||g.type=="supply"||g.type=="work_material"){$('[data-modal="'+b+'"]').find("form").find('[name="input_unity"]').val(g.input_unity);$('[data-modal="'+b+'"]').find("form").find('[name="storage_unity"]').val(g.storage_unity)}if(g.type=="sale_menu"){$('[data-modal="'+b+'"]').find("form").find('[name="price"]').val(g.price);$('[data-modal="'+b+'"]').find("form").find('[name="gain_margin_amount"]').val(g.gain_margin.amount);$('[data-modal="'+b+'"]').find("form").find('[name="gain_margin_type"]').val(g.gain_margin.type)}if(g.type=="sale_menu"||g.type=="supply"){$('[data-modal="'+b+'"]').find("form").find('[name="weight_full"]').val(g.weight.full);$('[data-modal="'+b+'"]').find("form").find('[name="weight_empty"]').val(g.weight.empty)}$.each(g.categories,function(h,i){$('[data-modal="'+b+'"]').find("form").find('[name="categories[]"][value="'+i+'"]').prop("checked",true)});if(g.type=="sale_menu"||g.type=="recipe"){$.each(g.supplies,function(h,i){$('[data-modal="'+b+'"]').find("form").find('[name="supplies[]"][value="'+i+'"]').prop("checked",true)})}if(g.type=="sale_menu"){$.each(g.recipes,function(h,i){$('[data-modal="'+b+'"]').find("form").find('[name="recipes[]"][value="'+i+'"]').prop("checked",true)})}})});$('[data-modal="'+b+'"]').find("form").on("submit",function(g){send_form_modal("create",$(this),g)});$(document).on("click",'[data-action="'+f+'"]',function(){action=f;id=$(this).data("id");send_form_modal("block")});$(document).on("click",'[data-action="'+a+'"]',function(){action=a;id=$(this).data("id");send_form_modal("unblock")});$(document).on("click",'[data-action="'+d+'"]',function(){action=d;id=$(this).data("id");open_form_modal("delete",$('[data-modal="'+d+'"]'))});$('[data-modal="'+d+'"]').modal().onSuccess(function(){send_form_modal("delete")})});